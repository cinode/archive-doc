

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2. The blobstore &mdash; Cinode 0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Cinode 0.1 documentation" href="../index.html" />
    <link rel="next" title="3. The Network of Nodes" href="../nodenetwork/nodenetwork.html" />
    <link rel="prev" title="1. Overview" href="../overview/overview.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../nodenetwork/nodenetwork.html" title="3. The Network of Nodes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../overview/overview.html" title="1. Overview"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Cinode 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="the-blobstore">
<h1>2. The blobstore<a class="headerlink" href="#the-blobstore" title="Permalink to this headline">¶</a></h1>
<p>The blobstore is a central data point in the Cinode network.
Nodes share the data between themselves cumulatively
creating a global blob namespace.</p>
<p>The data unit in the blobstore is a called a data blob. It&#8217;s
main purpose is to contain some information, usually in an encrypted form.
The knowledge of blob&#8217;s data decryption key equals read authorization.
In addition to the content encryption, the blob reveals extra cryptographic
properties used to validate whether an authrized user created the content
of the blob. This mechanism is used to implement write authorization.</p>
<p>Every blob is uniquely identified by it&#8217;s blob Id (BID). It&#8217;s main
purpose is to be able to find desired information in a global blob
namespace. In addition to the search ability, BID is used in blob
validation process to ensure that given blob can not be simply
overwritten by generating blob with the same BID.</p>
<p>The BID does not contain any information related to the blob&#8217;s content
interpretation. This kind of information is stored in unencrypted
blob&#8217;s data. This hardens the analysis of one&#8217;s blob graph. The type
information is stored in common header of unencrypted blob&#8217;s data.
This information is also limited to identify main structures forming
user&#8217;s blob graph and is not intended to contain information such as
mime type of files. Every type has a unique number assigned, the list
of such types is predefined and should not be altered without a general
public discussion. The summary of blob types along with nubers assigned
to particular types is presented below.</p>
<div class="section" id="blob-validation">
<h2>2.1. Blob validation<a class="headerlink" href="#blob-validation" title="Permalink to this headline">¶</a></h2>
<p>Each blob must reveal extra cryptographic properties
that allow nodes to quickly accept or reject particular
blob when received from the network. This requirement
is needed to enforce write access authorization. The
validation process will basically prevent blobs
generated by unauthorized users from spreading
through the network.</p>
<p>The validation process must be done in a cryptographic
way so that there are no known practical attacks that
could make the validation process useless. The BID identifier
is also used during this process to prevent overwriting
the blob by generating a new one with the same BID.</p>
<p>Next sections describe currently used validation methods.
Future versions of the protocol may extend this set
by adding validation rules needed by particular blob types.</p>
<div class="section" id="hash-based-validation-id-0x01">
<h3>2.1.1. Hash-based validation (ID: 0x01)<a class="headerlink" href="#hash-based-validation-id-0x01" title="Permalink to this headline">¶</a></h3>
<p>Hash-based validation is the simplest one and is generally
applied to all blob types holding content rather than
links to other blobs.</p>
<p>The idea is to use the hash of encrypted blob data as a blob id.
The hash used is SHA-512. Using this validation method means that
no one can overwrite the content of a blob due to the irreversible
nature of cryptographic hashes. This applies to blob&#8217;s creator too
resulting in a write-once like kind of operation.</p>
<p>The process of content change require creating new blob with altered
data and replacing all references to the old blob with the new one.</p>
<p>Although this way of handling data comes with many restrictions,
it will help dealing with delayed content updates making the network
less vulnerable for inconsistencies caused by partial updates
(similarly to copy-on-write methods).</p>
<p>The encryption key for the blob&#8217;s data is generated as the hash of
the unencrypted blob&#8217;s content. This means that given data will always
have the same encrypted representation and will allow global anonymous
data deduplication.</p>
<p>The IV (initialization vector) for the data encryption
cipher is zero in all cases. This doesn&#8217;t reduce the
security since the cipher initialization is based on a hash
value that theoretically depends on every bit of the plain
data. This key different for every blob is sufficient
enough to guarantee semantic security.</p>
<img src="../_images/hashvalidation.svg" /><p>The layout of binary exchange form for the blob using this validation method is as follows:</p>
<img src="../_images/hashdatalayout.svg" /></div>
<div class="section" id="sign-based-validation-id-0x02">
<h3>2.1.2. Sign-based validation (ID: 0x02)<a class="headerlink" href="#sign-based-validation-id-0x02" title="Permalink to this headline">¶</a></h3>
<p>This validation method is based on a cryptographic sign of blob&#8217;s content.
Every blob using this method is associated with a public/private key pair.
Blob&#8217;s id is a hash (SHA-512) of the public key (public key FingerPrint) so that
the blob with such id can not be overwritten by other users.</p>
<p>Following information is stored for a particular blob:</p>
<blockquote>
<div><ul class="simple">
<li>Public Key (DER-encoded)</li>
<li>Digital Sign (calculated from Version Number and Encrypted Data fields)</li>
<li>Version Number</li>
<li>Encrypted Data</li>
</ul>
</div></blockquote>
<p>For validation purposes, all fields apart from the encrypted data are
stored in a plain form. The encryption key of a data is based on a hash
value (SHA-512) of the Private Key.</p>
<p>The blob can be altered over time resulting in coexistence of multiple
contents assigned to the same blob id. Nodes must be able to find the most
recent one to keep the network up to date. For this particular reason,
each blob stores it&#8217;s Version Number. Selection of the most recent blob
version is a part of blob&#8217;s validation process.</p>
<p>The user authorized to change the blob must know blob&#8217;s private key and
it&#8217;s most recent Version Number. The new Version Number is generated by
adding non-zero positive number to the previous one (it should not be 1
to harden analyzing the number of blob updates). The new Version Number combined with
Encrypted Data is signed with the Private Key. New blob is assembled from
all needed parts and is propagated to all major cloning nodes (if known).</p>
<p>The validation of a blob is made in the following steps:</p>
<blockquote>
<div><ul class="simple">
<li>The blob&#8217;s Public Key is validated against blob id by comparing key&#8217;s
hash value with the id</li>
<li>The digital sign of content and version number is validated</li>
<li>The Version Number is compared with the one of locally stored blob.
If Version Numbers are the same, an additional comparison of Digital Sign
values is performed in order to deal with same-version attacks.<ul>
<li>if versions/signs are equal, nothing is done</li>
<li>if the version/sign of the received blob is higher than the locally
stored one, the local one is replaced by the received one</li>
<li>if the version/sign of the received blob is lower than the locally
stored one, the local blob is sent back in a reply to blob update
request so that the peer can update it&#8217;s local version</li>
</ul>
</li>
</ul>
</div></blockquote>
<p>The initialization vector of the cipher is made of the version
number by padding it&#8217;s serialized representation with zeroes or using
required number of bytes from the beginning of this representation.
Since the Version Number must change every time a new data
is introduced, it reveals properties of a cryptographic nounce
and thus can be securely used as the IV. This guarantees
semantic security.</p>
<p>In case of an attack where the same Version Number is being
reused, the attacker must already be in a possession of the private key.
This would allow the IV to be reused breaking semantic security. Since the
attacker is already in a possession of the private key and thus also the
data encryption key, there are no benefits for him other
than small disturbance of the validation methods.</p>
<img src="../_images/signvalidation.svg" /><p>The layout of binary exchange form for the blob using this validation method is as follows:</p>
<img src="../_images/signdatalayout.svg" /></div>
</div>
<div class="section" id="basic-serialization-rules">
<h2>2.2. Basic serialization rules<a class="headerlink" href="#basic-serialization-rules" title="Permalink to this headline">¶</a></h2>
<p>Blobs use very simple rules for serializing and unserializing
information.</p>
<div class="section" id="integer">
<h3>2.2.1. Integer<a class="headerlink" href="#integer" title="Permalink to this headline">¶</a></h3>
<p>Integers are stored as a sequence of bytes. Each byte consists
of two parts. The lower 7 bits are made by cutting next 7 bits of
serialized value (starting with lower bits). The eight bit of serialized
byte indicates whether the value encoding need more byte(s). The value of 1
means that at least one more byte is needed, the value of 0 means this is
the last byte of serialized data for this integer. The integer must be
stored using the shortest sequence of bytes. The value can not be padded with
zeroes at the highest bits to increase the length of serialized data.</p>
<p>Here are few examples of data encoding:</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="25%" />
<col width="25%" />
<col width="36%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Binary value</th>
<th class="head">Encoded form</th>
<th class="head">Binary encoded form</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">0x00</span></tt></td>
<td><tt class="docutils literal"><span class="pre">000000000</span></tt></td>
<td><tt class="docutils literal"><span class="pre">0x00</span></tt></td>
<td><tt class="docutils literal"><span class="pre">00000000</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">0x01</span></tt></td>
<td><tt class="docutils literal"><span class="pre">000000001</span></tt></td>
<td><tt class="docutils literal"><span class="pre">0x01</span></tt></td>
<td><tt class="docutils literal"><span class="pre">00000001</span></tt></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">0x7F</span></tt></td>
<td><tt class="docutils literal"><span class="pre">001111111</span></tt></td>
<td><tt class="docutils literal"><span class="pre">0x7F</span></tt></td>
<td><tt class="docutils literal"><span class="pre">01111111</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">0x80</span></tt></td>
<td><tt class="docutils literal"><span class="pre">010000000</span></tt></td>
<td><tt class="docutils literal"><span class="pre">0x80</span> <span class="pre">0x01</span></tt></td>
<td><tt class="docutils literal"><span class="pre">10000000</span> <span class="pre">00000001</span></tt></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">0x131</span></tt></td>
<td><tt class="docutils literal"><span class="pre">100110001</span></tt></td>
<td><tt class="docutils literal"><span class="pre">0xB1</span> <span class="pre">0x02</span></tt></td>
<td><tt class="docutils literal"><span class="pre">10110001</span> <span class="pre">00000010</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="data-buffer">
<h3>2.2.2. Data buffer<a class="headerlink" href="#data-buffer" title="Permalink to this headline">¶</a></h3>
<p>Data buffer consists of two parts:</p>
<blockquote>
<div><ul class="simple">
<li>integer value indicating the length of buffer in bytes</li>
<li>sequence of bytes - the content of a buffer</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="string">
<h3>2.2.3. String<a class="headerlink" href="#string" title="Permalink to this headline">¶</a></h3>
<p>String is stored as a data buffer that&#8217;s an UTF8 representation
of the string.</p>
</div>
<div class="section" id="array">
<h3>2.2.4. Array<a class="headerlink" href="#array" title="Permalink to this headline">¶</a></h3>
<p>Data starts with an integer being the number of entries
followed by entries representation (depends on it&#8217;s type).</p>
</div>
<div class="section" id="set">
<h3>2.2.5. Set<a class="headerlink" href="#set" title="Permalink to this headline">¶</a></h3>
<p>Similarly to the array, data starts with an integer being the number of entries
followed by entries representation (depends on it&#8217;s type).</p>
</div>
<div class="section" id="map">
<h3>2.2.6. Map<a class="headerlink" href="#map" title="Permalink to this headline">¶</a></h3>
<p>Data starts with an integer being the number of entries
followed by data of each entry. Entry consist
of the data of key followed by the data of value.</p>
</div>
</div>
<div class="section" id="blob-types">
<h2>2.3. Blob types<a class="headerlink" href="#blob-types" title="Permalink to this headline">¶</a></h2>
<p>This section describes all types of blobs available in the Cinode network.
Each blob contains information about the interpretation of it&#8217;s content
and validation methods allowed for this blob type.</p>
<p>The information about how the encryption key for blob&#8217;s data is generated
can be found in the documentation of validation methods.</p>
<div class="section" id="static-file-blob">
<h3>2.3.1. Static File Blob<a class="headerlink" href="#static-file-blob" title="Permalink to this headline">¶</a></h3>
<p>This blob is used to hold the content of files of size up to 16MB.
For files of a larger size, static split file blob must be used.</p>
<p>The content is made of the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>Type identification: Integer of value 0x01</li>
<li>The rest of blob&#8217;s data represents the content of a file, it&#8217;s not
a standard buffer since the size is not preceding the data</li>
</ul>
</div></blockquote>
<p>Validation method / blob id generator:</p>
<blockquote>
<div><ul class="simple">
<li>hash-based validation</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="static-split-file-blob">
<h3>2.3.2. Static Split File Blob<a class="headerlink" href="#static-split-file-blob" title="Permalink to this headline">¶</a></h3>
<p>This blob is used to hold the content of files of size greater than 16MB.
The file content is spread among a number of other blobs, each one of
Static File type. The size of those blobs must be 16MB with the exception
of the last one that&#8217;s using the remaining part of data.</p>
<p>The content of the file consists of following fields:</p>
<blockquote>
<div><ul class="simple">
<li>Type identification: Integer of value 0x02</li>
<li>Cumulative file size: Integer</li>
<li>Array with a list of blobs containing parts of the file,
when concatenated sequentially they form content of the file.
Each array entry consists of following fields:<ul>
<li>BID: String, Id of the sub-blob, the blob must be of type: Static File Blob (0x01)</li>
<li>Data KEY: String, Key for sub-blob&#8217;s data</li>
</ul>
</li>
</ul>
</div></blockquote>
<p>Validation method / blob id generator:</p>
<blockquote>
<div><ul class="simple">
<li>hash-based validation</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="static-directory-blob">
<h3>2.3.3. Static Directory Blob<a class="headerlink" href="#static-directory-blob" title="Permalink to this headline">¶</a></h3>
<p>This blob contains information about
directory entries assuming that the
number of entries is not greater than 1024.
In case of blob with greater number of entries,
Static Split Directory Blob must be used.</p>
<p>The blob&#8217;s content consists of following fields:</p>
<blockquote>
<div><ul class="simple">
<li>Type identification: Integer of value 0x11</li>
<li>Array of directory entries, sorted by blob names. Each entry
consisting of following fields:<ul>
<li>Name: String (must not be empty)</li>
<li>BID: String</li>
<li>Data KEY: String</li>
</ul>
</li>
</ul>
</div></blockquote>
<p>Validation method / blob id generator:</p>
<blockquote>
<div><ul class="simple">
<li>Hash-based validation</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="static-split-directory-blob">
<h3>2.3.4. Static Split Directory Blob<a class="headerlink" href="#static-split-directory-blob" title="Permalink to this headline">¶</a></h3>
<p>This blob can be used to represent directories
with a number of entries greater than 1024
by distributing them over multiple separate blobs.
The number of sub-blobs - <em>SubCount</em> that will be used,
is calculated using the following formula:</p>
<div class="math">
<p><img src="../_images/math/27d9cc9eb44ad3ab1576b9e7718a0675bddc8e5f.png" alt="SubCount = \left\lceil\frac{EntriesCount}{1024}\right\rceil"/></p>
</div><p>In order to distribute entries between blobs, following methods
can be used:</p>
<ul>
<li><p class="first">Sorted-Ranges (numeric id of method: 0x01)</p>
<p>In this method the list of entries sorted by entry name (UTF-8 case sensitive binary sort)
is uniformly split into SubCount parts. The assignment of <em>Nth</em> entry to a blob of id <em>BNum</em>
is as follows:</p>
<div class="math">
<p><img src="../_images/math/5fbad8bac684c038b19632ee64e58d8720087d26.png" alt="BNum = \left\lfloor\frac{N*SubCount}{EntriesCount}\right\rfloor"/></p>
</div><p><em>N</em> must be in range ( 0 .. <em>EntriesCount</em> -1 ) inclusively,
<em>BNum</em> must be in range ( 0 .. <em>SubCount</em> -1 ) inclusively</p>
<p>This method should be used when there&#8217;s a need to scan entry ranges
(i.e. list all entries with names between &#8216;alice&#8217; and &#8216;bob&#8217;). It should
be used carefully though since it may reveal some information during
sub-blob analysis.</p>
</li>
<li><p class="first">Hash-Distribution (numeric id of method: 0x02)</p>
<p>In this method, a hash of the entry name is used to find the
desired blob number. The hash is calculated as first four bytes
of the SHA-256 function applied on UTF-8 encoded file name.
The assignment of blob with name <em>N</em> to a sub-blob of id <em>BMum</em> is done
as follows:</p>
<div class="math">
<p><img src="../_images/math/10edb9040287fb2bd2469c7f602a6701e7435a6c.png" alt="BNum = \left\lfloor\frac{hash(name)*SubCount}{2^{32}}\right\rfloor"/></p>
</div><p>This method gives much greater cryptographic security since adding names topologically
close to each other usually results in distant sub-blobs.</p>
<p>This method is preferred and should be used if otherwise not specified.</p>
</li>
</ul>
<p>The content of the blob consists of the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>Type identification: Integer of value 0x12</li>
<li>Total number of entries: Integer</li>
<li>Numeric id of distribution method: Integer of value 0x01 for Sorted-Ranges, 0x02 for Hash-Distribution</li>
<li>Array with a list of blobs containing entry groups. When all entries from all sub-groups are merged
together, they form full list of entries in the directory stored in this blob. Each array entry consists
of following fields:<ul>
<li>BID: String, Id of the sub-blob, it must be of type: Static Directory Blob (0x11)</li>
<li>Data KEY: String, Key for sub-blob&#8217;s data</li>
</ul>
</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="dynamic-link-blob">
<h2>2.4. Dynamic Link Blob<a class="headerlink" href="#dynamic-link-blob" title="Permalink to this headline">¶</a></h2>
<p>The purpose of this blob is to link to another blob. It does not use the hash-based validation
method so that the value of a particular link blob can change over the time (in a contrast to
static blobs). A good example of it&#8217;s usage is to create a blob id that can be shared with
another user ensuring that this user will also see the changes made to this content.</p>
<p>The blob&#8217;s unencrypted content consists of the following information:</p>
<ul class="simple">
<li>BID: String, id of the referenced blob</li>
<li>KEY: String, encryption key of the referenced blob</li>
<li>RESERVED: Integer of value 0 (reserved for write key propagation)</li>
</ul>
<p>The referenced blob may also be a link so in order to get to the final blob, one must
apply the dereferencing procedure iteratively for all links discovered up to a certain
limit of iterations. We suggest a limit of 64 dereferences after which the link may
be considered broken.</p>
<dl class="docutils">
<dt>TODO: Assuming that the link will point to a sub-tree that will have another dynamic links</dt>
<dd>inside, we must be able to pass private keys of those child dynamic links assuming
the user has the private key of current link - it&#8217;s needed in order to cascade write
access authorization to such sub-links.</dd>
</dl>
</div>
<div class="section" id="summary-of-blob-types">
<h2>2.5. Summary of blob types<a class="headerlink" href="#summary-of-blob-types" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="6%" />
<col width="9%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Blob type</th>
<th class="head">TypeId</th>
<th class="head">Validation</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Static File Blob</td>
<td>0x01</td>
<td>Hash-based</td>
<td>Store content of a file with size less than 16MB</td>
</tr>
<tr class="row-odd"><td>Static Split File Blob</td>
<td>0x02</td>
<td>Hash-based</td>
<td>Store content of a file with more than 16MB</td>
</tr>
<tr class="row-even"><td>Static Directory Blob</td>
<td>0x11</td>
<td>Hash-based</td>
<td>Store list of entries inside a directory for number of entries less than 1024</td>
</tr>
<tr class="row-odd"><td>Static Split Directory Blob</td>
<td>0x12</td>
<td>Hash-based</td>
<td>Store list of entries inside a directory for number of entries more than 1024</td>
</tr>
<tr class="row-even"><td>Dynamic Link Blob</td>
<td>0x31</td>
<td>Sign-based</td>
<td>Store a link to another blob</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="test-vectors">
<h2>2.6. Test Vectors<a class="headerlink" href="#test-vectors" title="Permalink to this headline">¶</a></h2>
<p>This chapter will contain some test vectors to validate the correctness of implementation.
It has been validated using at least two independent implementations. Values are given
as hex strings if not specified otherwise.</p>
<div class="section" id="empty-static-simple-file-blob">
<h3>2.6.1. Empty static simple file blob<a class="headerlink" href="#empty-static-simple-file-blob" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>File content</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Unencrypted data</td>
<td><tt class="docutils literal"><span class="pre">01</span></tt></td>
</tr>
<tr class="row-even"><td>Encrypted data</td>
<td><tt class="docutils literal"><span class="pre">eb</span></tt></td>
</tr>
<tr class="row-odd"><td>Final blob content</td>
<td><tt class="docutils literal"><span class="pre">01</span> <span class="pre">eb</span></tt></td>
</tr>
<tr class="row-even"><td>Encryption Key</td>
<td><tt class="docutils literal"><span class="pre">01</span> <span class="pre">7b54b668</span> <span class="pre">36c1fbdd</span> <span class="pre">13d2441d</span> <span class="pre">9e1434dc</span> <span class="pre">62ca677f</span> <span class="pre">b68f5fe6</span> <span class="pre">6a464baa</span> <span class="pre">decdbd00</span></tt></td>
</tr>
<tr class="row-odd"><td>Blob ID</td>
<td><tt class="docutils literal"><span class="pre">b4f5a7bb</span> <span class="pre">878c0cec</span> <span class="pre">9cb4bd6a</span> <span class="pre">e8bb175a</span> <span class="pre">7ea59c1a</span> <span class="pre">048c5ab7</span> <span class="pre">c119990d</span> <span class="pre">0041cb9c</span> <span class="pre">fb67c2aa</span> <span class="pre">9e6fada8</span> <span class="pre">11271977</span> <span class="pre">7b4b80ff</span> <span class="pre">ada80205</span> <span class="pre">f8ebe698</span> <span class="pre">1c0ade97</span> <span class="pre">ff3df8e5</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="static-file-blob-with-the-content-a">
<h3>2.6.2. Static file blob with the content &#8220;a&#8221;<a class="headerlink" href="#static-file-blob-with-the-content-a" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>File content</td>
<td><tt class="docutils literal"><span class="pre">61</span></tt></td>
</tr>
<tr class="row-odd"><td>Unencrypted data</td>
<td><tt class="docutils literal"><span class="pre">01</span> <span class="pre">61</span></tt></td>
</tr>
<tr class="row-even"><td>Encrypted data</td>
<td><tt class="docutils literal"><span class="pre">8f14</span></tt></td>
</tr>
<tr class="row-odd"><td>Final blob content</td>
<td><tt class="docutils literal"><span class="pre">01</span> <span class="pre">8f14</span></tt></td>
</tr>
<tr class="row-even"><td>Encryption Key</td>
<td><tt class="docutils literal"><span class="pre">01</span> <span class="pre">504ce2f6</span> <span class="pre">de7e3338</span> <span class="pre">9deb73b2</span> <span class="pre">1f765570</span> <span class="pre">ad2b9f2a</span> <span class="pre">a8aaec83</span> <span class="pre">28f47b48</span> <span class="pre">bc3e841f</span></tt></td>
</tr>
<tr class="row-odd"><td>Blob ID</td>
<td><tt class="docutils literal"><span class="pre">c9d30a99</span> <span class="pre">38ecea16</span> <span class="pre">bed58efe</span> <span class="pre">5ad5b998</span> <span class="pre">927a56da</span> <span class="pre">7c8c36c1</span> <span class="pre">ee13292d</span> <span class="pre">ec79aa50</span> <span class="pre">c5613fc9</span> <span class="pre">0d80c37a</span> <span class="pre">77a5a422</span> <span class="pre">691d1967</span> <span class="pre">693a1236</span> <span class="pre">892e228a</span> <span class="pre">d95ed6fe</span> <span class="pre">4b505d85</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="static-file-blob-with-the-content-hello-world">
<h3>2.6.3. Static file blob with the content &#8220;Hello World!&#8221;<a class="headerlink" href="#static-file-blob-with-the-content-hello-world" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>File content</td>
<td><tt class="docutils literal"><span class="pre">48656c6c</span> <span class="pre">6f20576f</span> <span class="pre">726c6421</span></tt></td>
</tr>
<tr class="row-odd"><td>Unencrypted data</td>
<td><tt class="docutils literal"><span class="pre">01</span> <span class="pre">48656c6c</span> <span class="pre">6f20576f</span> <span class="pre">726c6421</span></tt></td>
</tr>
<tr class="row-even"><td>Encrypted data</td>
<td><tt class="docutils literal"><span class="pre">855e296f</span> <span class="pre">95d1eaf3</span> <span class="pre">feb7d48c</span> <span class="pre">e0</span></tt></td>
</tr>
<tr class="row-odd"><td>Final blob content</td>
<td><tt class="docutils literal"><span class="pre">01</span> <span class="pre">855e296f</span> <span class="pre">95d1eaf3</span> <span class="pre">feb7d48c</span> <span class="pre">e0</span></tt></td>
</tr>
<tr class="row-even"><td>Encryption Key</td>
<td><tt class="docutils literal"><span class="pre">01</span> <span class="pre">ac9d2591</span> <span class="pre">34ccef98</span> <span class="pre">7f9f4df3</span> <span class="pre">115b0b7a</span> <span class="pre">24b379cb</span> <span class="pre">ebb2aaa9</span> <span class="pre">1ed811c8</span> <span class="pre">cf5e0907</span></tt></td>
</tr>
<tr class="row-odd"><td>Blob ID</td>
<td><tt class="docutils literal"><span class="pre">82aeef20</span> <span class="pre">2165cf11</span> <span class="pre">930ea44a</span> <span class="pre">9ad8337a</span> <span class="pre">ea355d63</span> <span class="pre">751a7260</span> <span class="pre">552e3e01</span> <span class="pre">4ad6313b</span> <span class="pre">ca69c83f</span> <span class="pre">a4e35555</span> <span class="pre">31d44a10</span> <span class="pre">25708183</span> <span class="pre">784af0e2</span> <span class="pre">002562b7</span> <span class="pre">260559ce</span> <span class="pre">0e7af262</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="static-file-blob-with-the-content-consisting-of-all-lower-case-and-upper-case-ascii-letters">
<h3>2.6.4. Static file blob with the content consisting of all lower-case and upper-case ASCII letters<a class="headerlink" href="#static-file-blob-with-the-content-consisting-of-all-lower-case-and-upper-case-ascii-letters" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>File content</td>
<td><tt class="docutils literal"><span class="pre">61626364</span> <span class="pre">65666768</span> <span class="pre">696a6b6c</span> <span class="pre">6d6e6f70</span> <span class="pre">71727374</span> <span class="pre">75767778</span> <span class="pre">797a4142</span> <span class="pre">43444546</span> <span class="pre">4748494a</span> <span class="pre">4b4c4d4e</span> <span class="pre">4f505152</span> <span class="pre">53545556</span> <span class="pre">5758595a</span></tt></td>
</tr>
<tr class="row-odd"><td>Unencrypted data</td>
<td><tt class="docutils literal"><span class="pre">01</span> <span class="pre">61626364</span> <span class="pre">65666768</span> <span class="pre">696a6b6c</span> <span class="pre">6d6e6f70</span> <span class="pre">71727374</span> <span class="pre">75767778</span> <span class="pre">797a4142</span> <span class="pre">43444546</span> <span class="pre">4748494a</span> <span class="pre">4b4c4d4e</span> <span class="pre">4f505152</span> <span class="pre">53545556</span> <span class="pre">5758595a</span></tt></td>
</tr>
<tr class="row-even"><td>Encrypted data</td>
<td><tt class="docutils literal"><span class="pre">f0ead942</span> <span class="pre">12737b28</span> <span class="pre">60ea35e3</span> <span class="pre">1c7dd176</span> <span class="pre">b5620968</span> <span class="pre">2c3a6792</span> <span class="pre">1d464823</span> <span class="pre">13c245d4</span> <span class="pre">551c765c</span> <span class="pre">3ca851d7</span> <span class="pre">f375911a</span> <span class="pre">66e6b52b</span> <span class="pre">650d51ea</span> <span class="pre">c3</span></tt></td>
</tr>
<tr class="row-odd"><td>Final blob content</td>
<td><tt class="docutils literal"><span class="pre">01</span> <span class="pre">f0ead942</span> <span class="pre">12737b28</span> <span class="pre">60ea35e3</span> <span class="pre">1c7dd176</span> <span class="pre">b5620968</span> <span class="pre">2c3a6792</span> <span class="pre">1d464823</span> <span class="pre">13c245d4</span> <span class="pre">551c765c</span> <span class="pre">3ca851d7</span> <span class="pre">f375911a</span> <span class="pre">66e6b52b</span> <span class="pre">650d51ea</span> <span class="pre">c3</span></tt></td>
</tr>
<tr class="row-even"><td>Encryption Key</td>
<td><tt class="docutils literal"><span class="pre">01</span> <span class="pre">b11ef5de</span> <span class="pre">bd728940</span> <span class="pre">485629e3</span> <span class="pre">42c572bc</span> <span class="pre">c5b103d7</span> <span class="pre">b56de27b</span> <span class="pre">07f901b4</span> <span class="pre">abcdb5d4</span></tt></td>
</tr>
<tr class="row-odd"><td>Blob ID</td>
<td><tt class="docutils literal"><span class="pre">4cfb056a</span> <span class="pre">184d4377</span> <span class="pre">eff9fc3e</span> <span class="pre">8364906a</span> <span class="pre">f4b3b3c9</span> <span class="pre">467c2fb8</span> <span class="pre">245382bd</span> <span class="pre">d535ea17</span> <span class="pre">f8a63abc</span> <span class="pre">190a9253</span> <span class="pre">9bd92951</span> <span class="pre">52f112d3</span> <span class="pre">365d4910</span> <span class="pre">737b9f9f</span> <span class="pre">3e0eb2f2</span> <span class="pre">eef40648</span></tt></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">2. The blobstore</a><ul>
<li><a class="reference internal" href="#blob-validation">2.1. Blob validation</a><ul>
<li><a class="reference internal" href="#hash-based-validation-id-0x01">2.1.1. Hash-based validation (ID: 0x01)</a></li>
<li><a class="reference internal" href="#sign-based-validation-id-0x02">2.1.2. Sign-based validation (ID: 0x02)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#basic-serialization-rules">2.2. Basic serialization rules</a><ul>
<li><a class="reference internal" href="#integer">2.2.1. Integer</a></li>
<li><a class="reference internal" href="#data-buffer">2.2.2. Data buffer</a></li>
<li><a class="reference internal" href="#string">2.2.3. String</a></li>
<li><a class="reference internal" href="#array">2.2.4. Array</a></li>
<li><a class="reference internal" href="#set">2.2.5. Set</a></li>
<li><a class="reference internal" href="#map">2.2.6. Map</a></li>
</ul>
</li>
<li><a class="reference internal" href="#blob-types">2.3. Blob types</a><ul>
<li><a class="reference internal" href="#static-file-blob">2.3.1. Static File Blob</a></li>
<li><a class="reference internal" href="#static-split-file-blob">2.3.2. Static Split File Blob</a></li>
<li><a class="reference internal" href="#static-directory-blob">2.3.3. Static Directory Blob</a></li>
<li><a class="reference internal" href="#static-split-directory-blob">2.3.4. Static Split Directory Blob</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dynamic-link-blob">2.4. Dynamic Link Blob</a></li>
<li><a class="reference internal" href="#summary-of-blob-types">2.5. Summary of blob types</a></li>
<li><a class="reference internal" href="#test-vectors">2.6. Test Vectors</a><ul>
<li><a class="reference internal" href="#empty-static-simple-file-blob">2.6.1. Empty static simple file blob</a></li>
<li><a class="reference internal" href="#static-file-blob-with-the-content-a">2.6.2. Static file blob with the content &#8220;a&#8221;</a></li>
<li><a class="reference internal" href="#static-file-blob-with-the-content-hello-world">2.6.3. Static file blob with the content &#8220;Hello World!&#8221;</a></li>
<li><a class="reference internal" href="#static-file-blob-with-the-content-consisting-of-all-lower-case-and-upper-case-ascii-letters">2.6.4. Static file blob with the content consisting of all lower-case and upper-case ASCII letters</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../overview/overview.html"
                        title="previous chapter">1. Overview</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../nodenetwork/nodenetwork.html"
                        title="next chapter">3. The Network of Nodes</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/blobstore/blobstore.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../nodenetwork/nodenetwork.html" title="3. The Network of Nodes"
             >next</a> |</li>
        <li class="right" >
          <a href="../overview/overview.html" title="1. Overview"
             >previous</a> |</li>
        <li><a href="../index.html">Cinode 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, byo.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>